{"version":3,"sources":["webpack:///C:/Users/Administrator/Desktop/小E社区/components/list/list.vue?684b","webpack:///C:/Users/Administrator/Desktop/小E社区/components/list/list.vue?c666","webpack:///C:/Users/Administrator/Desktop/小E社区/components/list/list.vue?2926","webpack:///C:/Users/Administrator/Desktop/小E社区/components/list/list.vue?8878","uni-app:///components/list/list.vue"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAiH;AACjH;AACwD;AACL;;;AAGnD;AACuM;AACvM,gBAAgB,2MAAU;AAC1B,EAAE,0EAAM;AACR,EAAE,+EAAM;AACR,EAAE,wFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,mFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACtBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAqxB,CAAgB,owBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;ACYzyB;AACA;AACA;AACA,iBADA;AAEA,aAFA,sBAEA;AACA;AACA,OAJA,EADA;;AAOA;AACA,kBADA;AAEA,gBAFA,EAPA,EADA;;;AAaA,MAbA,kBAaA;AACA;AACA,qBADA;AAEA,cAFA;AAGA,uBAHA;AAIA,cAJA;AAKA,kBALA;;AAOA,GArBA;AAsBA;AACA,sBADA,EAtBA;;AAyBA;AACA,OADA,eACA,MADA,EACA;AACA;AACA;AACA;AACA,KALA,EAzBA;;AAgCA,SAhCA,qBAgCA;AACA,2BADA,CACA,YADA,yBACA,YADA;AAEA;AACA,GAnCA;AAoCA;AACA,YADA,sBACA;AACA;AACA;AACA;AACA,KALA;AAMA,UANA,oBAMA;AACA;AACA,KARA;AASA,UATA,kBASA,CATA,EASA;AACA;AADA,UAEA,OAFA,GAEA,QAFA,CAEA,OAFA,EAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,KAlBA;AAmBA,WAnBA,mBAmBA,OAnBA,EAmBA;AACA;AACA;AACA;AACA,iBADA;AAEA,4BAFA;;AAIA;;AAEA;AACA,oCADA;AAEA,qCAFA;AAGA,+BAHA;AAIA,UAJA,CAIA;AACA;AADA,YAEA,IAFA,GAEA,GAFA,CAEA,IAFA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAtBA;AAuBA,KAnDA,EApCA,E","file":"components/list/list.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./list.vue?vue&type=template&id=48015944&\"\nvar renderjs\nimport script from \"./list.vue?vue&type=script&lang=js&\"\nexport * from \"./list.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../HBuilderX.2.8.6.20200814.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/list/list.vue\"\nexport default component.exports","export * from \"-!../../../../../../HBuilderX.2.8.6.20200814.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../HBuilderX.2.8.6.20200814.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../HBuilderX.2.8.6.20200814.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../HBuilderX.2.8.6.20200814.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../HBuilderX.2.8.6.20200814.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX.2.8.6.20200814.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./list.vue?vue&type=template&id=48015944&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../HBuilderX.2.8.6.20200814.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../HBuilderX.2.8.6.20200814.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../HBuilderX.2.8.6.20200814.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../HBuilderX.2.8.6.20200814.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX.2.8.6.20200814.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../HBuilderX.2.8.6.20200814.full/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../HBuilderX.2.8.6.20200814.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../HBuilderX.2.8.6.20200814.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../HBuilderX.2.8.6.20200814.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../HBuilderX.2.8.6.20200814.full/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./list.vue?vue&type=script&lang=js&\"","<template>\n\t<view class=\"content\">\n\t\t<swiper class=\"swiper\" :style=\"{height:swiperHeight+'px'}\" @change=\"change\" :current=\"tabIndex\">\r\n\t\t\t<swiper-item class=\"swiper-item\" v-for=\"(item,index) in tab\" :key=\"index\">\r\n\t\t\t\t<listItem :list =\"listCatchData[index]\" :load=\"load[index]\" @loadMore=\"loadMore\" @follow = \"follow\"></listItem>\r\n\t\t\t</swiper-item>\r\n\t\t</swiper>\n\t</view>\n</template>\n\n<script>\r\n\timport listItem from './list-item.vue'\n\texport default {\r\n\t\tprops:{\r\n\t\t\ttab: {\r\n\t\t\t\ttype: Array,\r\n\t\t\t\tdefault () {\r\n\t\t\t\t\treturn []\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\ttabIndex: {\r\n\t\t\t\ttype:Number,\r\n\t\t\t\tdefault:0\r\n\t\t\t}\r\n\t\t},\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tswiperHeight:0,\r\n\t\t\t\tlist:[],\r\n\t\t\t\tlistCatchData:{},\r\n\t\t\t\tload:{},\r\n\t\t\t\tpageSize:10\n\t\t\t};\n\t\t},\r\n\t\tcomponents:{\r\n\t\t\tlistItem\r\n\t\t},\r\n\t\twatch:{\r\n\t\t\ttab(newVal){\r\n\t\t\t\t// console.log(newVal)\r\n\t\t\t\tif(newVal.length === 0) return\r\n\t\t\t\tthis.getList(this.tabIndex)\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tconst {screenHeight} = uni.getSystemInfoSync()\r\n\t\t\tthis.swiperHeight = screenHeight\r\n\t\t},\r\n\t\tmethods:{\r\n\t\t\tloadMore() {\r\n\t\t\t\tif (this.load[this.tabIndex].loading === 'noMore') return\r\n\t\t\t\tthis.load[this.tabIndex].page++\r\n\t\t\t\tthis.getList(this.tabIndex)\r\n\t\t\t},\r\n\t\t\tfollow() {\r\n\t\t\t\tthis.getList(this.tabIndex)\r\n\t\t\t},\r\n\t\t\tchange(e){\r\n\t\t\t\t// console.log(e)\r\n\t\t\t\tconst {current} = e.detail  //切换索引号\r\n\t\t\t\tthis.$emit('change',current)\r\n\t\t\t\t// console.log(this.tab[current].name)\r\n\t\t\t\tif(!this.listCatchData[current] || this.listCatchData[current].length === 0) {\r\n\t\t\t\t\tthis.getList(current)\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\tgetList(current){\r\n\t\t\t\t// console.log(this.tab)\r\n\t\t\t\tif (!this.load[current]) {\r\n\t\t\t\t\tthis.load[current] = {\r\n\t\t\t\t\t\tpage: 1,\r\n\t\t\t\t\t\tloading: 'loading'\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tthis.$api.get_list({\r\n\t\t\t\t\tname: this.tab[current].name,\r\n\t\t\t\t\tpage:this.load[current].page,\r\n\t\t\t\t\tpageSize:this.pageSize\r\n\t\t\t\t}).then(res=>{\r\n\t\t\t\t\t// console.log(res)\r\n\t\t\t\t\tconst {data} = res\r\n\t\t\t\t\t// this.list = data\r\n\t\t\t\t\t// this.listCatchData[current] = data\r\n\t\t\t\t\tif (data.length === 0) {\r\n\t\t\t\t\t\tlet oldLoad = {}\r\n\t\t\t\t\t\toldLoad.loading = 'noMore'\r\n\t\t\t\t\t\toldLoad.page = this.load[current].page\r\n\t\t\t\t\t\tthis.$set(this.load, current, oldLoad)\r\n\t\t\t\t\t\t// 强制渲染页面\r\n\t\t\t\t\t\tthis.$forceUpdate()\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tlet oldList = this.listCatchData[current] || []\r\n\t\t\t\t\toldList.push(...data.reverse())\r\n\t\t\t\t\tthis.$set(this.listCatchData,current,oldList)\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\n\t}\n</script>\n\n<style lang=\"scss\">\n</style>\n"],"sourceRoot":""}